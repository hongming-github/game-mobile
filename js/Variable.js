/*
	全局变量(OK)
*/
//---------------------------画布有关的----------------------------------
var canvasWidth = 960; //画布宽
var canvasHeight = 576; //画布高
var ctx; //画布上下文环境
var rpx = 48; //格子长和宽
var tx; //鼠标x轴坐标的转换（格子的左上角的X）
var ty; //鼠标y轴坐标的转换(格子的左上角的Y)
var isdown;//鼠标按下了
var mapDraw;//画笔的句柄
var mapName;//放从XML中读过来的地图名称
var mapLevel = 1; //地图关数
var bg;
//-----------------------升级有关的-----------------------------------
var coutLev=0;    //用来计数升级                            
var levelUpOk=false;//升级有没有结束的开关
var roleUpIndex=0;
//--------------------死亡与复活-------------------------------------------
var deadArray=[];//死亡人物的数组
var afterRecoverShow=false;//复活框的开关
var tpp;//用来定位在复活框中点击选择复活哪个人物
//-------------------------各种对象的数组-----------------------------------
var shadowShow=[];//存放覆盖层的阴影
var startShow = [];//放开始的背景图片，3个按钮
var endShow=[];//放游戏结束的图片按钮
var showStart = false;//鼠标移动在背景图片的3个按钮上的动态效果的开关
var openBigMap=false;
var startButton1;
var startButton2;
var startButton3;
var everything = []; //存放胜败条件，回合显示
var everything1 = new Array(); //数组1存放地图，主角，可移动距离方格显示
var everything2 = []; //数组2存放方格
var info = []; //数组Info，所有人物的显示信息
var tishi = [];
var count = 1; //回合数
var moveSpeed = 140; //移动速度
var enemyIndex = 0; //敌人下标
var menu2Show = false; //判断主菜单是否显示			
var roleObj; //目标位置	
var rolesArray = new Array(); //角色数组
var rolesIndex; //角色下标，判断选中哪个角色
var enemysArray = new Array(); //敌人数组
var attackShow = new Array(); //攻击效果
var hpShow = new Array(); //血条变化效果
var rangeShow = []; //攻击范围
var victoryCondition; //胜利条件
var lostCondition; //失败条件
var tid; //定时执行函数
var countInterval = 0; //计数变量
var xBeforeMove; //存放主角移动前的x轴坐标
var yBeforeMove; //存放主角移动前的y轴坐标	
var xmlHttp; //实例化xmlHttpRequest对象，
var end = false; //回合是否结束
var ai = false; //敌人是否开始行动
var VCS = false; //胜利条件是否显示
var menuShow = false; //菜单是否显示(人物)
var CloseImg; //关掉的按钮X
var f = true; //避免图片移动拐弯时跳过转角
var att = false; //是否攻击状态
var firstClick = true; //是否第一次点击
//----------------------------------------------------------------------
var dialogShowFlag = false; //对话事件是否触发
var dialogArray = new Array(); //对话事件的显示	
var dialogRole; //对话事件显示的人物图片
var dialogText; //对话事件显示的对话内容
var dialogString = []; //对话事件的全部内容
var dialogRoundArray = new Array(); //存放对话事件
var dialogContentId; //对话内容ID，没有初始化？
var dialogFunction; //对话事件触发的函数
var finish = false; //判断xml是否读取完成
//----------------------------------------------------------------------
var itemShow = false; //道具界面是否显示
var itemArrays = []; //所有道具信息
var itemArray = []; //显示的道具信息
var ItemBg; //道具的背景图片
var itemVar; //道具的参数（给队友加多少血）
var itemConfirmShow = false; //确定使用道具的开关
//--------------------------------------------------------------------
var spiritShow=false;//精神力界面是否显示
var spiritBg;       //精神力背景图
var spiritArray=[];  //用来显示精神力的图片什么的
var spiritArrays=[];  //用来放从spirit.xml中读出来的所有的精神力
var spiritConfirmShow=false;//确定使用精神力的开关
var spiritVar;//精神力参数，造成多少的效果
var spiritHuiChun=false;//当用户选择使用回春技能的时候，使他变为TRUE
//-----------------------------------------------------------------
var equipArrays=[];
//--------------------------------------------------------------------
var powertmp; //用来存放消耗多少的POW
var powerShow = false; //怒攻击界面是否显示
var powerArrays = []; //存放各种怒攻击的数组
var powerArray = []; //存放powerBg
var powerBg; //怒攻击背景
var powerName; //怒攻击名称
var powerVar; //怒攻击参数（给敌人多少伤害）
var powerAtt = false; //是否已选技能
var powerSuccess; //技能使用成功率
var powerConfirmShow = false; //确定使用怒攻击的开关
//----------------------------------------------------------------------
var skilltmp; //用来存放消耗多少的mP
var skillShow = false; //技能界面是否显示
var skillArrays = []; //存放各种skill的数组
var skillArray = []; //用来放各种秘笈攻击
var skillBg; //技能背景
var skillName; //技能名称
var skillVar; //技能参数（给敌人多少伤害）
var skillAtt = false; //是否已选技能
var skillSuccess; //技能使用成功率
var skillConfirmShow = false; //确定使用技能攻击的开关
//---------------------------------------------------------------------
var pass;
var fl; //反射函数，各种技能XML中保存的函数名放到这里
var confirmArray = []; //确认框内容
var ensure; //确定按钮
var cancel; //取消按钮
var tp;
var effect;
var statusBg;//人物状态显示的背景
var mdownx;//鼠标down使的左上角X坐标
var mdowny;//鼠标down时的左上角Y坐标
var statusArray = [];
var rolesStatusShow = false;
var leftArrow;
var rightArrow;
var skill;
var power;
var equip;
var tmpIndex;
var speArray = [];
var enemysStatusShow = false;
var enemysIndex=0;
var closelist=[],openlist=[];							//closelist保存最终结果。openlist保存临时生成的点；
var gw=10;											//参数 gh是水平附加参数 gwh是四角的附加参数。
var p_start=new Array(2),p_end=new Array(2);			//p_start为起点，p_end为终点
var s_path;									//s_path为当前点 n_path为障碍物数组样式的字符串.
var num;
var find=[];
//--------
var bossPowerEnd=false;//BOSS怒攻击完成了
var IntoGuanKa=false;//进入关卡
var systemSet=false;//鼠标移动到系统设置上的开关
var gameover=false;//游戏结束
var everything3=[];//专门用来放菜单栏
var endShow=[];//放游戏结束的画面的数组
var openBigMap=false;
var store;//商店对象
var storehouse;//仓库对象
var gameBackGroundShow=false;
var bigMapoption=false;
var big_option=0;//1表示按了整理,2表示按了队伍,3表示商店，4表示系统
var big_role_index=0;//大地图的人物的索引
var DJZhengLi=false;//道具整理开关
var NJZhengLi=false;//怒技整理开关
var MJZhengLi=false;//秘技技整理开关
var ZBZhengLi=false;//装备整理开关
var DuiYuan=false;//队员的开关
var cangKuShow=false;
var itemStore=false;//道具商店的开关
var equipStore=false;//武器商店的开关
var nextloading=false;//加载下一关
var dingzhukuangLeft=[0,0,0,0,0];//背包的定住框,1表示选中了
var dingzhukuangRight=[0,0,0,0,0,0];//仓库的定住框,1表示选中了
var itemNumChange=false;//在点击放入仓库或者其他的按钮的时候对道具的数量调整的开关
var dragNum=0;//记载选中的数量
var itemOption;
var sureToFX=false;//确定封印？确定开启的开关
var DuiYuan=false;//队员开关
var teamMoney=1500;//全队的金钱
var att_end;//用于清楚定时器，因为有些时候杀死敌人以后，后面的定时器的代码还要执行，但地图已经到大地图了。
var hasNoRolesWalk=true;//为了防止在行走过程中，点击弹出主菜单
var tempp=-2;
var mapObstancle=[
     //第1关障碍物
    "0,0;0,1;0,3;0,4;0,5;0,6;0,10;0,11;0,12;0,15;1,0;1,1;1,4;1,5;1,6;1,10;1,11;1,12;1,15;2,0;2,1;2,5;2,6;2,9;2,10;2,11;2,14;2,15;3,0;3,5;3,6;3,13;3,14;3,15;4,3;4,8;4,9;4,15;5,2;5,3;5,8;5,9;5,10;6,2;6,3;6,4;6,8;6,9;7,2;7,4;7,8;7,12;7,13;7,14;8,0;8,5;8,7;8,11;8,12;8,13;9,0;9,6;9,10;10,0;10,1;10,9;11,0;11,1;11,2;11,8;11,9;12,0;12,1;12,2;12,3;12,4;12,9;12,10;13,0;13,1;13,2;13,3;13,4;13,5;13,10;13,11;13,12;13,13;14,1;14,2;14,3;14,4;14,5;14,6;14,11;14,12;14,13;15,2;15,3;15,4;15,5;15,6;15,7;15,8;15,11;15,12;15,13;16,4;16,5;16,6;16,7;16,8;16,9;17,7;17,8;17,9;18,1;18,2;18,3;18,7;18,8;18,11;18,12;18,13;18,14;18,15;19,1;19,2;19,3;19,5;19,6;19,7;19,8;19,11;19,12;19,13;19,14;19,15;20,1;20,2;20,3;20,6;20,7;20,8;20,11;20,12;20,13;20,14;20,15;21,1;21,2;21,3;21,7;21,8;21,11;21,12;21,13;21,14;21,15;22,1;22,2;22,3;22,8;22,11;22,12;22,13;22,14;22,15;23,1;23,2;23,8;23,11;23,12;23,13;23,14;24,5;24,6;24,12;24,13;25,5;25,6",
     //第2关障碍物
	"0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,1;1,2;1,3;1,4;1,5;1,6;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,3;2,4;2,5;2,6;2,11;2,13;2,14;2,15;3,2;3,3;3,4;3,13;3,14;3,15;4,0;4,13;4,14;4,15;5,8;5,11;5,12;5,13;5,14;5,15;6,2;6,7;6,8;6,12;6,13;6,14;6,15;7,0;7,1;7,2;7,5;7,6;7,7;7,8;7,12;7,13;7,14;7,15;8,0;8,1;8,2;8,6;8,7;8,8;8,14;8,15;9,0;9,1;9,7;9,8;9,9;9,10;10,0;10,1;10,2;10,3;10,4;10,9;10,10;10,11;10,12;11,0;11,1;11,2;11,3;11,4;11,5;11,6;11,9;11,10;11,11;11,12;12,0;12,1;12,2;12,3;12,4;12,5;12,6;12,7;12,11;12,12;12,15;13,0;13,1;13,5;13,6;13,7;13,11;13,12;13,15;14,0;14,1;14,5;14,6;14,7;14,11;14,12;14,15;15,0;15,5;15,6;15,12;15,15;16,0;16,1;16,6;16,9;16,15;17,0;17,1;18,0;18,1;18,2;19,0;19,1;19,2;19,8;19,9;19,10;19,11;19,12;19,13;20,0;20,1;20,2;20,3;20,5;20,6;20,7;20,8;20,9;20,10;20,11;20,12;20,13;21,0;21,2;21,3;21,6;21,7;21,8;21,9;21,10;22,0;22,1;22,2;22,6;22,7;22,8;23,0;23,1;23,6;23,7;23,8;24,5;24,6;24,7;24,8;24,13;24,14;24,5;24,6;24,7;24,12;24,13;24,14;24,15;25,5;25,6;25,7;25,12;25,13;25,14;25,15;",
     //第3关障碍物
	"0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,7;0,8;0,9;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,0;1,1;1,2;1,5;1,6;1,7;1,8;1,9;1,10;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,6;2,7;2,8;2,9;2,10;2,11;2,12;2,13;2,14;2,15;3,0;3,1;3,2;3,7;3,8;3,9;3,10;3,11;3,12;3,13;4,0;4,1;4,2;4,4;4,5;4,8;4,9;4,10;4,11;4,12;4,13;5,0;5,1;5,4;5,5;5,6;5,8;5,9;5,10;5,11;5,12;5,13;6,0;6,1;6,3;6,4;6,5;6,6;6,8;6,9;6,10;6,11;6,12;7,0;7,1;7,3;7,4;7,5;7,8;7,9;7,10;8,0;8,1;8,3;8,4;8,13;8,14;9,0;9,1;9,2;9,12;9,13;9,14;9,15;10,1;10,2;10,3;10,10;10,11;10,12;10,13;10,14;10,15;11,2;11,3;11,10;11,11;11,12;11,13;11,14;11,15;12,0;12,4;12,10;12,11;12,12;12,13;12,14;12,15;13,0;13,1;13,3;13,4;13,8;13,11;13,12;13,13;13,14;13,15;14,0;14,1;14,2;14,3;14,4;14,5;14,8;14,9;14,12;14,13;14,14;14,15;15,0;15,1;15,2;15,3;15,4;15,5;15,7;15,8;15,9;15,13;15,14;15,15;16,0;16,1;16,2;16,3;16,4;16,7;16,8;16,9;16,10;16,11;16,13;16,14;16,15;17,0;17,1;17,2;17,3;17,6;17,7;17,8;17,9;17,10;17,11;17,14;17,15;18,0;18,1;18,2;18,3;18,5;18,6;18,7;18,8;18,9;18,10;18,11;18,14;18,15;19,0;19,1;19,2;19,5;19,6;19,7;19,8;19,9;19,10;19,11;19,12;19,14;19,15;20,0;20,1;20,2;20,6;20,7;20,8;20,9;20,10;20,11;20,14;20,15;21,0;21,1;21,2;21,3;21,4;21,7;21,8;21,9;21,13;21,14;21,15;22,0;22,1;22,2;22,3;22,4;22,5;22,12;22,13;22,14;22,15;23,0;23,1;23,2;23,3;23,4;23,5;23,6;23,9;23,10;23,11;23,12;23,13;23,14;23,15;24,0;24,1;24,2;24,3;24,4;24,5;24,6;24,7;24,8;24,9;24,10;24,11;24,12;24,13;24,14;24,15;25,0;25,1;25,2;25,3;25,4;25,5;25,6;25,7;25,8;25,9;25,10;25,11;25,12;25,13;25,14;25,15;",
     //第4关障碍物
	"0,3;0,4;0,8;0,9;0,10;0,11;0,14;0,15;1,0;1,3;1,4;1,8;1,9;1,10;1,11;1,14;1,15;2,0;2,1;2,4;2,5;2,6;2,9;2,10;2,13;2,14;3,0;3,1;3,2;3,5;3,6;4,0;4,1;4,6;4,14;5,0;5,1;5,2;5,10;5,13;5,14;6,0;6,1;6,2;6,7;6,10;6,11;6,12;6,13;7,0;7,1;7,6;7,7;7,10;7,11;7,12;7,13;8,0;8,1;8,7;8,10;8,11;8,12;8,13;8,15;9,7;9,8;9,11;9,12;9,13;9,15;10,0;10,7;10,8;10,10;10,11;10,12;10,15;11,0;11,8;11,9;11,10;11,11;12,0;12,1;12,5;12,8;12,9;12,10;12,11;13,0;13,1;13,3;13,4;13,5;13,8;13,9;13,12;13,13;14,0;14,1;14,3;14,4;14,5;14,6;14,8;14,12;14,13;15,0;15,3;15,4;15,5;15,6;15,13;16,0;16,5;16,6;16,7;16,13;17,0;17,5;17,6;17,7;17,10;17,11;17,12;17,13;18,5;18,6;18,9;18,10;18,11;18,12;18,13;18,14;19,12;19,13;20,2;20,3;20,8;20,9;20,15;21,2;21,3;21,4;21,7;21,8;21,9;21,10;21,11;21,15;22,2;22,3;22,8;22,9;22,10;22,11;22,12;22,14;22,15;23,0;23,6;23,8;23,9;23,10;23,11;23,12;23,13;23,14;23,15;24,0;24,1;24,8;24,9;24,10;24,11;24,12;24,13;24,14;24,15;25,0;25,1;25,2;25,8;25,9;25,10;25,11;25,12;25,13;25,14;25,15;",
     //第5关障碍物
	"0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,7;0,8;0,9;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,1;1,2;1,3;1,4;1,7;1,8;1,9;1,10;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,8;2,9;2,10;2,11;2,12;2,13;2,14;2,15;3,0;3,1;3,6;3,7;3,8;3,9;3,12;3,13;3,14;3,15;4,0;4,1;4,2;4,7;4,8;4,9;4,12;4,13;4,14;4,15;5,0;5,1;5,2;5,3;5,4;5,7;5,8;5,9;5,12;5,13;5,14;5,15;6,0;6,1;6,2;6,3;6,4;6,7;6,8;6,9;6,12;6,13;6,14;6,15;7,0;7,1;7,2;7,3;7,4;7,13;8,0;8,1;8,2;8,3;8,4;9,0;9,1;9,2;9,3;9,4;9,5;9,10;9,11;9,12;9,13;10,0;10,1;10,2;10,3;10,4;10,8;10,9;10,10;10,11;10,12;10,13;10,14;11,0;11,1;11,2;11,3;11,7;11,8;11,9;11,10;11,11;11,12;11,13;12,0;12,1;12,2;12,3;12,8;12,9;12,10;12,11;12,12;12,13;13,0;13,1;13,2;13,3;13,10;13,11;13,12;13,13;14,0;14,1;14,2;14,3;14,12;14,13;15,0;15,1;15,12;15,13;16,0;16,3;16,7;16,8;17,0;17,2;17,3;17,4;17,7;17,8;17,9;18,0;18,2;18,3;18,4;18,7;18,8;18,9;18,10;18,14;18,15;19,0;19,3;19,8;19,9;19,10;19,13;19,14;19,15;20,0;20,1;20,9;20,10;20,13;20,14;20,15;21,0;21,4;21,5;21,6;21,13;21,14;21,15;22,0;22,3;22,4;22,5;22,6;22,7;22,13;22,14;22,15;23,0;23,2;23,3;23,4;23,5;23,6;23,7;23,8;23,13;23,14;23,15;24,0;24,1;24,2;24,3;24,4;24,5;24,6;24,7;24,8;24,9;24,13;24,14;24,15;25,0;25,1;25,2;25,3;25,4;25,5;25,6;25,7;25,8;25,9;25,10;25,14;25,15;",
     //第6关障碍物
    "0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,9;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,1;1,2;1,10;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,7;2,13;2,14;2,15;3,0;3,1;3,2;3,3;3,4;3,5;3,6;3,7;4,0;4,1;4,2;4,3;4,4;4,5;4,6;4,9;4,10;4,11;5,0;5,1;5,2;5,3;5,4;5,5;5,6;5,7;5,9;5,10;5,11;6,0;6,1;6,2;6,3;6,4;6,5;6,6;6,7;6,8;6,9;6,10;6,11;7,0;7,3;7,4;7,5;7,6;7,7;7,8;7,9;7,10;7,11;7,13;7,14;7,15;8,0;8,3;8,4;8,5;8,6;8,7;8,8;8,9;8,10;8,11;9,0;9,4;9,5;9,6;9,7;9,8;9,9;9,10;9,11;10,0;10,4;10,5;10,6;10,7;10,8;10,9;10,10;11,0;11,5;11,6;11,7;11,8;11,9;11,10;11,11;11,12;11,13;12,0;12,6;12,7;12,8;12,9;12,10;13,0;13,3;13,7;13,8;13,9;13,10;13,12;14,0;14,4;14,12;15,0;15,1;15,4;15,12;15,15;16,0;16,1;16,6;17,6;17,7;17,8;17,9;17,10;18,4;18,5;18,6;18,7;18,9;18,10;19,3;19,4;19,5;19,6;19,7;19,8;19,9;19,10;19,11;20,3;20,4;20,5;20,6;20,7;20,8;20,9;20,10;20,13;20,14;20,15;21,0;21,1;21,4;21,5;21,6;21,7;21,8;21,9;21,10;22,0;22,1;22,4;22,5;22,6;22,7;22,8;22,9;23,0;23,1;23,5;23,6;23,7;23,8;23,11;23,15;24,4;24,5;24,6;24,11;25,3;25,4;25,5;25,6;25,11;25,15;",
     //第7关障碍物
	 "0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,7;0,8;0,9;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,1;1,2;1,3;1,4;1,8;1,9;1,10;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,3;2,9;2,10;2,11;2,12;2,13;2,14;2,15;3,0;3,1;3,2;3,5;3,6;3,7;3,11;3,12;3,13;4,5;4,6;4,7;4,11;4,12;4,13;5,3;5,4;5,5;5,6;5,7;6,0;6,3;6,4;6,5;6,6;6,7;6,8;6,10;6,12;7,3;7,4;7,5;7,6;7,7;7,8;7,12;7,13;8,1;8,3;8,4;8,5;8,6;8,7;8,15;9,1;9,3;9,4;9,9;9,10;9,11;9,15;10,1;10,2;10,3;10,7;10,8;10,9;10,10;10,11;10,14;10,15;11,1;11,2;11,3;11,7;11,8;11,9;11,10;11,14;11,15;12,1;12,2;12,3;12,7;12,8;12,9;12,10;12,14;12,15;13,0;13,1;13,2;13,3;13,6;13,7;13,8;13,9;13,13;13,14;13,15;14,0;14,5;14,6;14,7;14,14;14,15;15,0;15,3;15,4;15,5;15,6;15,7;15,9;15,10;15,11;15,14;15,15;16,3;16,4;16,5;16,6;16,9;16,10;16,11;16,12;16,15;17,4;17,5;17,6;17,9;17,10;17,11;17,12;18,4;18,5;18,8;18,9;18,10;18,11;18,12;19,2;19,3;19,4;19,5;19,8;19,9;19,12;19,13;20,2;20,3;20,4;20,5;20,8;20,9;20,13;21,2;21,3;21,4;21,5;21,8;21,9;22,2;22,3;22,4;22,8;22,9;22,10;22,11;22,12;22,13;23,0;23,3;23,6;23,7;23,8;23,9;23,10;23,11;23,12;23,14;23,15;24,0;24,5;24,6;24,7;24,8;24,9;24,10;24,11;24,12;24,13;24,14;24,15;25,0;25,1;25,2;25,3;25,4;25,5;25,6;25,7;25,8;25,9;25,10;25,11;25,12;25,13;25,14;25,15;",
     //第8关障碍物
	 "0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,7;0,8;0,9;0,10;0,11;0,12;0,13;0,14;0,15;1,1;1,2;1,3;1,4;1,5;1,6;1,8;1,9;1,10;1,11;1,12;1,13;1,14;1,15;2,2;2,3;2,4;2,5;2,6;2,9;2,10;2,13;2,14;3,1;3,2;3,3;3,4;3,5;3,11;3,12;3,13;4,1;4,2;4,3;4,7;4,15;5,1;5,2;5,3;5,6;5,7;5,8;5,13;5,14;5,15;6,1;6,2;6,3;6,7;6,8;6,9;6,10;6,13;6,14;6,15;7,2;7,7;7,8;7,9;7,10;7,13;7,14;7,15;8,5;8,7;8,8;8,9;8,14;8,15;9,0;9,3;9,4;9,5;9,6;9,7;9,8;9,13;10,0;10,1;10,3;10,4;10,5;10,6;10,7;10,11;10,12;10,13;11,0;11,1;11,2;11,4;11,5;11,6;11,7;11,11;11,12;11,13;12,0;12,1;12,5;12,6;12,7;12,11;12,12;12,13;13,0;13,2;13,3;13,4;13,5;13,6;13,7;13,8;13,10;13,11;13,12;13,13;14,0;14,2;14,3;14,4;14,5;14,6;14,7;14,8;14,10;14,11;14,15;15,0;15,2;15,3;15,4;15,5;15,6;15,7;15,8;15,10;15,13;15,14;15,15;16,0;16,2;16,4;16,5;16,6;16,7;16,8;16,10;16,13;16,14;16,15;17,0;17,5;17,6;17,7;17,8;17,10;17,13;17,14;17,15;18,0;18,3;18,6;18,7;18,8;18,9;18,10;18,13;18,14;18,15;19,3;19,6;19,7;19,8;19,9;19,12;19,13;19,14;19,15;20,3;20,4;20,7;20,8;20,9;20,12;20,13;20,14;20,15;21,0;21,2;21,3;21,4;21,7;21,8;21,11;21,12;21,13;21,14;21,15;22,0;22,1;22,2;22,3;22,4;22,7;22,10;22,12;22,13;22,14;23,0;23,2;23,3;23,4;23,9;23,10;23,13;24,5;24,9;24,10;24,11;24,15;25,1;25,9;25,9;25,10;25,11;25,12;25,13;25,14;25,15;",
	 //第9关障碍物
	 "0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,7;0,8;0,13;0,14;0,15;1,1;1,2;1,4;1,6;1,7;1,8;1,15;2,2;2,4;2,5;2,6;2,7;2,13;2,15;3,0;3,5;3,6;3,9;3,13;3,15;4,0;4,1;4,5;4,8;4,9;4,15;5,0;5,7;5,8;5,9;5,12;5,15;6,0;6,5;6,6;6,7;6,8;6,9;6,15;7,0;7,1;7,4;7,5;7,6;7,7;7,8;7,9;7,10;7,13;7,14;7,15;8,0;8,1;8,2;8,4;8,5;8,6;8,7;8,8;8,9;8,10;8,11;8,14;8,15;9,0;9,1;9,4;9,5;9,6;9,7;9,8;9,9;9,10;9,11;9,15;10,0;10,1;10,5;10,6;10,7;10,8;10,9;10,10;10,11;10,14;10,15;11,0;11,3;11,5;11,6;11,7;11,8;11,9;11,10;11,11;11,12;11,15;12,0;12,2;12,3;12,6;12,7;12,8;12,9;12,10;12,11;12,12;12,15;13,0;13,2;13,3;13,5;13,6;13,7;13,8;13,9;13,10;13,11;14,7;14,8;14,9;14,10;14,11;15,0;15,1;15,4;15,8;15,9;15,10;15,11;15,12;15,13;15,15;16,0;16,1;16,4;16,5;16,6;16,9;16,10;16,11;16,12;16,13;16,15;17,0;17,3;17,4;17,5;17,6;17,7;17,10;17,11;17,12;17,15;18,0;18,2;18,3;18,4;18,5;18,6;18,7;18,10;18,11;18,15;19,2;19,3;19,4;19,5;19,6;19,7;19,11;19,12;20,0;20,1;20,2;20,3;20,4;20,5;20,6;20,7;20,11;20,14;20,15;21,1;21,2;21,3;21,4;21,5;21,6;21,7;21,14;21,15;22,9;22,15;23,9;23,10;23,11;23,14;23,15;24,10;24,13;24,14;24,15;25,0;25,1;25,2;25,4;25,5;25,6;25,7;25,8;25,14;25,15",
	 //第10关障碍物
	 "0,3;0,4;0,5;0,7;0,8;0,9;0,10;0,14;0,15;1,0;1,3;1,4;1,5;1,7;1,8;1,9;1,14;1,15;2,0;2,1;2,3;2,4;2,5;2,8;2,9;2,14;2,15;3,1;3,3;3,4;3,5;3,8;3,9;4,4;4,5;4,8;4,13;4,14;5,4;5,5;5,13;6,3;6,4;6,12;6,13;6,14;7,1;7,4;7,7;7,12;7,13;7,14;8,0;8,1;8,2;8,6;8,7;8,9;8,10;8,11;8,12;8,13;8,14;9,1;9,2;9,4;9,6;9,7;9,10;9,11;9,12;9,13;9,14;10,2;10,3;10,4;10,6;10,7;10,11;10,12;10,13;11,2;11,3;11,4;11,5;11,6;11,7;11,8;11,13;12,3;12,4;12,5;12,6;12,7;12,8;12,15;13,4;13,6;13,7;13,10;13,14;13,15;14,11;14,12;14,14;14,15;15,11;15,12;15,15;16,6;16,7;16,11;16,12;16,15;17,0;17,1;17,6;17,7;17,11;17,12;17,15;18,0;18,1;18,7;18,8;18,11;18,12;18,15;19,0;19,1;19,4;19,7;19,8;19,11;19,12;19,15;20,0;20,1;20,3;20,4;20,7;20,8;20,9;20,10;20,11;20,15;21,0;21,3;21,4;21,7;21,8;21,9;21,10;21,11;21,14;21,15;22,0;22,3;22,4;22,5;22,8;22,9;22,10;22,11;22,14;22,15;23,0;23,3;23,4;23,5;23,6;23,9;23,14;23,15;24,0;24,3;24,4;24,5;24,6;24,11;24,12;24,15;25,3;25,4;25,6;25,10;25,11;25,12;25,13;"
];
/*var mapObstancle=[
   	"0,3;0,4;0,5;0,7;0,8;0,9;0,10;0,14;0,15;1,0;1,3;1,4;1,5;1,7;1,8;1,9;1,14;1,15;2,0;2,1;2,3;2,4;2,5;2,8;2,9;2,14;2,15;3,1;3,3;3,4;3,5;3,8;3,9;4,4;4,5;4,8;4,13;4,14;5,4;5,5;5,13;6,3;6,4;6,12;6,13;6,14;7,1;7,4;7,7;7,12;7,13;7,14;8,0;8,1;8,2;8,6;8,7;8,9;8,10;8,11;8,12;8,13;8,14;9,1;9,2;9,4;9,6;9,7;9,10;9,11;9,12;9,13;9,14;10,2;10,3;10,4;10,6;10,7;10,11;10,12;10,13;11,2;11,3;11,4;11,5;11,6;11,7;11,8;11,13;12,3;12,4;12,5;12,6;12,7;12,8;12,15;13,4;13,6;13,7;13,10;13,14;13,15;14,11;14,12;14,14;14,15;15,11;15,12;15,15;16,6;16,7;16,11;16,12;16,15;17,0;17,1;17,6;17,7;17,11;17,12;17,15;18,0;18,1;18,7;18,8;18,11;18,12;18,15;19,0;19,1;19,4;19,7;19,8;19,11;19,12;19,15;20,0;20,1;20,3;20,4;20,7;20,8;20,9;20,10;20,11;20,15;21,0;21,3;21,4;21,7;21,8;21,9;21,10;21,11;21,14;21,15;22,0;22,3;22,4;22,5;22,8;22,9;22,10;22,11;22,14;22,15;23,0;23,3;23,4;23,5;23,6;23,9;23,14;23,15;24,0;24,3;24,4;24,5;24,6;24,11;24,12;24,15;25,3;25,4;25,6;25,10;25,11;25,12;25,13;",
     //第1关障碍物
    "0,0;0,1;0,3;0,4;0,5;0,6;0,10;0,11;0,12;0,15;1,0;1,1;1,4;1,5;1,6;1,10;1,11;1,12;1,15;2,0;2,1;2,5;2,6;2,9;2,10;2,11;2,14;2,15;3,0;3,5;3,6;3,13;3,14;3,15;4,3;4,8;4,9;4,15;5,2;5,3;5,8;5,9;5,10;6,2;6,3;6,4;6,8;6,9;7,2;7,4;7,8;7,12;7,13;7,14;8,0;8,5;8,7;8,11;8,12;8,13;9,0;9,6;9,10;10,0;10,1;10,9;11,0;11,1;11,2;11,8;11,9;12,0;12,1;12,2;12,3;12,4;12,9;12,10;13,0;13,1;13,2;13,3;13,4;13,5;13,10;13,11;13,12;13,13;14,1;14,2;14,3;14,4;14,5;14,6;14,11;14,12;14,13;15,2;15,3;15,4;15,5;15,6;15,7;15,8;15,11;15,12;15,13;16,4;16,5;16,6;16,7;16,8;16,9;17,7;17,8;17,9;18,1;18,2;18,3;18,7;18,8;18,11;18,12;18,13;18,14;18,15;19,1;19,2;19,3;19,5;19,6;19,7;19,8;19,11;19,12;19,13;19,14;19,15;20,1;20,2;20,3;20,6;20,7;20,8;20,11;20,12;20,13;20,14;20,15;21,1;21,2;21,3;21,7;21,8;21,11;21,12;21,13;21,14;21,15;22,1;22,2;22,3;22,8;22,11;22,12;22,13;22,14;22,15;23,1;23,2;23,8;23,11;23,12;23,13;23,14;24,5;24,6;24,12;24,13;25,5;25,6",
     //第2关障碍物
	"0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,1;1,2;1,3;1,4;1,5;1,6;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,3;2,4;2,5;2,6;2,11;2,13;2,14;2,15;3,2;3,3;3,4;3,13;3,14;3,15;4,0;4,13;4,14;4,15;5,8;5,11;5,12;5,13;5,14;5,15;6,2;6,7;6,8;6,12;6,13;6,14;6,15;7,0;7,1;7,2;7,5;7,6;7,7;7,8;7,12;7,13;7,14;7,15;8,0;8,1;8,2;8,6;8,7;8,8;8,14;8,15;9,0;9,1;9,7;9,8;9,9;9,10;10,0;10,1;10,2;10,3;10,4;10,9;10,10;10,11;10,12;11,0;11,1;11,2;11,3;11,4;11,5;11,6;11,9;11,10;11,11;11,12;12,0;12,1;12,2;12,3;12,4;12,5;12,6;12,7;12,11;12,12;12,15;13,0;13,1;13,5;13,6;13,7;13,11;13,12;13,15;14,0;14,1;14,5;14,6;14,7;14,11;14,12;14,15;15,0;15,5;15,6;15,12;15,15;16,0;16,1;16,6;16,9;16,15;17,0;17,1;18,0;18,1;18,2;19,0;19,1;19,2;19,8;19,9;19,10;19,11;19,12;19,13;20,0;20,1;20,2;20,3;20,5;20,6;20,7;20,8;20,9;20,10;20,11;20,12;20,13;21,0;21,2;21,3;21,6;21,7;21,8;21,9;21,10;22,0;22,1;22,2;22,6;22,7;22,8;23,0;23,1;23,6;23,7;23,8;24,5;24,6;24,7;24,8;24,13;24,14;24,5;24,6;24,7;24,12;24,13;24,14;24,15;25,5;25,6;25,7;25,12;25,13;25,14;25,15;",
     //第3关障碍物
	"0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,7;0,8;0,9;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,0;1,1;1,2;1,5;1,6;1,7;1,8;1,9;1,10;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,6;2,7;2,8;2,9;2,10;2,11;2,12;2,13;2,14;2,15;3,0;3,1;3,2;3,7;3,8;3,9;3,10;3,11;3,12;3,13;4,0;4,1;4,2;4,4;4,5;4,8;4,9;4,10;4,11;4,12;4,13;5,0;5,1;5,4;5,5;5,6;5,8;5,9;5,10;5,11;5,12;5,13;6,0;6,1;6,3;6,4;6,5;6,6;6,8;6,9;6,10;6,11;6,12;7,0;7,1;7,3;7,4;7,5;7,8;7,9;7,10;8,0;8,1;8,3;8,4;8,13;8,14;9,0;9,1;9,2;9,12;9,13;9,14;9,15;10,1;10,2;10,3;10,10;10,11;10,12;10,13;10,14;10,15;11,2;11,3;11,10;11,11;11,12;11,13;11,14;11,15;12,0;12,4;12,10;12,11;12,12;12,13;12,14;12,15;13,0;13,1;13,3;13,4;13,8;13,11;13,12;13,13;13,14;13,15;14,0;14,1;14,2;14,3;14,4;14,5;14,8;14,9;14,12;14,13;14,14;14,15;15,0;15,1;15,2;15,3;15,4;15,5;15,7;15,8;15,9;15,13;15,14;15,15;16,0;16,1;16,2;16,3;16,4;16,7;16,8;16,9;16,10;16,11;16,13;16,14;16,15;17,0;17,1;17,2;17,3;17,6;17,7;17,8;17,9;17,10;17,11;17,14;17,15;18,0;18,1;18,2;18,3;18,5;18,6;18,7;18,8;18,9;18,10;18,11;18,14;18,15;19,0;19,1;19,2;19,5;19,6;19,7;19,8;19,9;19,10;19,11;19,12;19,14;19,15;20,0;20,1;20,2;20,6;20,7;20,8;20,9;20,10;20,11;20,14;20,15;21,0;21,1;21,2;21,3;21,4;21,7;21,8;21,9;21,13;21,14;21,15;22,0;22,1;22,2;22,3;22,4;22,5;22,12;22,13;22,14;22,15;23,0;23,1;23,2;23,3;23,4;23,5;23,6;23,9;23,10;23,11;23,12;23,13;23,14;23,15;24,0;24,1;24,2;24,3;24,4;24,5;24,6;24,7;24,8;24,9;24,10;24,11;24,12;24,13;24,14;24,15;25,0;25,1;25,2;25,3;25,4;25,5;25,6;25,7;25,8;25,9;25,10;25,11;25,12;25,13;25,14;25,15;",
     //第4关障碍物
	"0,3;0,4;0,8;0,9;0,10;0,11;0,14;0,15;1,0;1,3;1,4;1,8;1,9;1,10;1,11;1,14;1,15;2,0;2,1;2,4;2,5;2,6;2,9;2,10;2,13;2,14;3,0;3,1;3,2;3,5;3,6;4,0;4,1;4,6;4,14;5,0;5,1;5,2;5,10;5,13;5,14;6,0;6,1;6,2;6,7;6,10;6,11;6,12;6,13;7,0;7,1;7,6;7,7;7,10;7,11;7,12;7,13;8,0;8,1;8,7;8,10;8,11;8,12;8,13;8,15;9,7;9,8;9,11;9,12;9,13;9,15;10,0;10,7;10,8;10,10;10,11;10,12;10,15;11,0;11,8;11,9;11,10;11,11;12,0;12,1;12,5;12,8;12,9;12,10;12,11;13,0;13,1;13,3;13,4;13,5;13,8;13,9;13,12;13,13;14,0;14,1;14,3;14,4;14,5;14,6;14,8;14,12;14,13;15,0;15,3;15,4;15,5;15,6;15,13;16,0;16,5;16,6;16,7;16,13;17,0;17,5;17,6;17,7;17,10;17,11;17,12;17,13;18,5;18,6;18,9;18,10;18,11;18,12;18,13;18,14;19,12;19,13;20,2;20,3;20,8;20,9;20,15;21,2;21,3;21,4;21,7;21,8;21,9;21,10;21,11;21,15;22,2;22,3;22,8;22,9;22,10;22,11;22,12;22,14;22,15;23,0;23,6;23,8;23,9;23,10;23,11;23,12;23,13;23,14;23,15;24,0;24,1;24,8;24,9;24,10;24,11;24,12;24,13;24,14;24,15;25,0;25,1;25,2;25,8;25,9;25,10;25,11;25,12;25,13;25,14;25,15;",
     //第5关障碍物
	"0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,7;0,8;0,9;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,1;1,2;1,3;1,4;1,7;1,8;1,9;1,10;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,8;2,9;2,10;2,11;2,12;2,13;2,14;2,15;3,0;3,1;3,6;3,7;3,8;3,9;3,12;3,13;3,14;3,15;4,0;4,1;4,2;4,7;4,8;4,9;4,12;4,13;4,14;4,15;5,0;5,1;5,2;5,3;5,4;5,7;5,8;5,9;5,12;5,13;5,14;5,15;6,0;6,1;6,2;6,3;6,4;6,7;6,8;6,9;6,12;6,13;6,14;6,15;7,0;7,1;7,2;7,3;7,4;7,13;8,0;8,1;8,2;8,3;8,4;9,0;9,1;9,2;9,3;9,4;9,5;9,10;9,11;9,12;9,13;10,0;10,1;10,2;10,3;10,4;10,8;10,9;10,10;10,11;10,12;10,13;10,14;11,0;11,1;11,2;11,3;11,7;11,8;11,9;11,10;11,11;11,12;11,13;12,0;12,1;12,2;12,3;12,8;12,9;12,10;12,11;12,12;12,13;13,0;13,1;13,2;13,3;13,10;13,11;13,12;13,13;14,0;14,1;14,2;14,3;14,12;14,13;15,0;15,1;15,12;15,13;16,0;16,3;16,7;16,8;17,0;17,2;17,3;17,4;17,7;17,8;17,9;18,0;18,2;18,3;18,4;18,7;18,8;18,9;18,10;18,14;18,15;19,0;19,3;19,8;19,9;19,10;19,13;19,14;19,15;20,0;20,1;20,9;20,10;20,13;20,14;20,15;21,0;21,4;21,5;21,6;21,13;21,14;21,15;22,0;22,3;22,4;22,5;22,6;22,7;22,13;22,14;22,15;23,0;23,2;23,3;23,4;23,5;23,6;23,7;23,8;23,13;23,14;23,15;24,0;24,1;24,2;24,3;24,4;24,5;24,6;24,7;24,8;24,9;24,13;24,14;24,15;25,0;25,1;25,2;25,3;25,4;25,5;25,6;25,7;25,8;25,9;25,10;25,14;25,15;",
     //第6关障碍物
    "0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,9;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,1;1,2;1,10;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,7;2,13;2,14;2,15;3,0;3,1;3,2;3,3;3,4;3,5;3,6;3,7;4,0;4,1;4,2;4,3;4,4;4,5;4,6;4,9;4,10;4,11;5,0;5,1;5,2;5,3;5,4;5,5;5,6;5,7;5,9;5,10;5,11;6,0;6,1;6,2;6,3;6,4;6,5;6,6;6,7;6,8;6,9;6,10;6,11;7,0;7,3;7,4;7,5;7,6;7,7;7,8;7,9;7,10;7,11;7,13;7,14;7,15;8,0;8,3;8,4;8,5;8,6;8,7;8,8;8,9;8,10;8,11;9,0;9,4;9,5;9,6;9,7;9,8;9,9;9,10;9,11;10,0;10,4;10,5;10,6;10,7;10,8;10,9;10,10;11,0;11,5;11,6;11,7;11,8;11,9;11,10;11,11;11,12;11,13;12,0;12,6;12,7;12,8;12,9;12,10;13,0;13,3;13,7;13,8;13,9;13,10;13,12;14,0;14,4;14,12;15,0;15,1;15,4;15,12;15,15;16,0;16,1;16,6;17,6;17,7;17,8;17,9;17,10;18,4;18,5;18,6;18,7;18,9;18,10;19,3;19,4;19,5;19,6;19,7;19,8;19,9;19,10;19,11;20,3;20,4;20,5;20,6;20,7;20,8;20,9;20,10;20,13;20,14;20,15;21,0;21,1;21,4;21,5;21,6;21,7;21,8;21,9;21,10;22,0;22,1;22,4;22,5;22,6;22,7;22,8;22,9;23,0;23,1;23,5;23,6;23,7;23,8;23,11;23,15;24,4;24,5;24,6;24,11;25,3;25,4;25,5;25,6;25,11;25,15;",
     //第7关障碍物
	 "0,0;0,1;0,2;0,3;0,4;0,5;0,6;0,7;0,8;0,9;0,10;0,11;0,12;0,13;0,14;0,15;1,0;1,1;1,2;1,3;1,4;1,8;1,9;1,10;1,11;1,12;1,13;1,14;1,15;2,0;2,1;2,2;2,3;2,9;2,10;2,11;2,12;2,13;2,14;2,15;3,0;3,1;3,2;3,5;3,6;3,7;3,11;3,12;3,13;4,5;4,6;4,7;4,11;4,12;4,13;5,3;5,4;5,5;5,6;5,7;5,11;6,0;6,3;6,4;6,5;6,6;6,7;6,8;6,10;6,12;7,3;7,4;7,5;7,6;7,7;7,8;7,12;7,13;8,1;8,3;8,4;8,5;8,6;8,7;8,15;9,1;9,3;9,4;9,9;9,10;9,11;9,15;10,1;10,2;10,3;10,7;10,8;10,9;10,10;10,11;10,14;10,15;11,1;11,2;11,3;11,7;11,8;11,9;11,10;11,14;11,15;12,1;12,2;12,3;12,7;12,8;12,9;12,10;12,14;12,15;13,0;13,1;13,2;13,3;13,6;13,7;13,8;13,9;13,13;13,14;13,15;14,0;14,5;14,6;14,7;14,14;14,15;15,0;15,3;15,4;15,5;15,6;15,7;15,9;15,10;15,11;15,14;15,15;16,3;16,4;16,5;16,6;16,9;16,10;16,11;16,12;16,15;17,4;17,5;17,6;17,9;17,10;17,11;17,12;18,4;18,5;18,8;18,9;18,10;18,11;18,12;19,2;19,3;19,4;19,5;19,8;19,9;19,12;19,13;20,2;20,3;20,4;20,5;20,8;20,9;20,13;21,2;21,3;21,4;21,5;21,8;21,9;22,2;22,3;22,4;22,8;22,9;22,10;22,11;22,12;22,13;23,0;23,3;23,6;23,7;23,8;23,9;23,10;23,11;23,12;23,14;23,15;24,0;24,5;24,6;24,7;24,8;24,9;24,10;24,11;24,12;24,13;24,14;24,15;25,0;25,1;25,2;25,3;25,4;25,5;25,6;25,7;25,8;25,9;25,10;25,11;25,12;25,13;25,14;25,15;"
      
];*/